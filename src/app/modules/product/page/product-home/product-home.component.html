<div class="row justify-content-center">
  <div class="col-md-12 col-lg-8">
    <div class="d-flex justify-content-between">
      <h2 class="mb-3">Products</h2>
      <a class="btn btn-primary align-self-center"
        routerLink="new">New</a>
    </div>
    <table class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Updated</th>
          <th class="text-right">On Paywall</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of products">
          <td class="align-top w-auto">
            <a [routerLink]="product.id">
              {{product.heading}}
            </a>
            <div *ngIf="product.plans.length === 1; else planCount">
              <app-plan-price
                [plan]="product.plans[0]"></app-plan-price>
            </div>
            <ng-template #planCount>
              <div>
                {{product.plans.length}} pricing plans
              </div>
            </ng-template>
          </td>
          <td class="align-middle">
            {{product.updatedUtc}}
          </td>
          <td class="align-middle text-right">
            <ng-container *ngIf="product.isActive; else activate">
              <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"/>
              </svg>
            </ng-container>
            <ng-template #activate>
              <button class="btn btn-outline-primary"
                (click)="onSetPaywall(product)">Use it</button>
            </ng-template>
          </td>
        </tr>
      </tbody>
    </table>

    <p>You can create multiple products of the same tier, but only one of them could be put on the paywall.</p>
  </div>
</div>
